{"ast":null,"code":"import { LOGIN_SUCCESS, LOGOUT } from \"./types\";\nimport axios from \"axios\";\n// export const auth = (newAuth) => (dispatch) => {\n//   axios\n//     .post(\"http://localhost:5000/api/login\", newAuth)\n//     .then((res) => dispatch({ type: LOGIN_SUCCESS, payload: res.data }))\n//     .catch((err) => console.log(err));\n// };\nexport const loginSuccess = token => ({\n  type: LOGIN_SUCCESS,\n  payload: token\n});\nexport const logout = () => ({\n  type: LOGOUT\n});\nexport const login = credentials => async dispatch => {\n  try {\n    const response = await axios.post(\"http://localhost:5000/api/login\", credentials); // Adjust the API endpoint\n    const token = response.data.token;\n    localStorage.setItem(\"token\", token);\n    dispatch(loginSuccess(token));\n    window.location.href = \"/admin\";\n  } catch (error) {\n    // Handle login error\n  }\n};","map":{"version":3,"names":["LOGIN_SUCCESS","LOGOUT","axios","loginSuccess","token","type","payload","logout","login","credentials","dispatch","response","post","data","localStorage","setItem","window","location","href","error"],"sources":["C:/Users/amine.sradkia/Downloads/Compressed/node-express-mongodb-master-sacem/front/src/redux/actions/auth.js"],"sourcesContent":["import { LOGIN_SUCCESS, LOGOUT } from \"./types\";\r\nimport axios from \"axios\";\r\n// export const auth = (newAuth) => (dispatch) => {\r\n//   axios\r\n//     .post(\"http://localhost:5000/api/login\", newAuth)\r\n//     .then((res) => dispatch({ type: LOGIN_SUCCESS, payload: res.data }))\r\n//     .catch((err) => console.log(err));\r\n// };\r\nexport const loginSuccess = (token) => ({\r\n  type: LOGIN_SUCCESS,\r\n  payload: token,\r\n});\r\n\r\nexport const logout = () => ({\r\n  type: LOGOUT,\r\n});\r\n\r\nexport const login = (credentials) => async (dispatch) => {\r\n  try {\r\n    const response = await axios.post(\r\n      \"http://localhost:5000/api/login\",\r\n      credentials\r\n    ); // Adjust the API endpoint\r\n    const token = response.data.token;\r\n    localStorage.setItem(\"token\", token);\r\n    dispatch(loginSuccess(token));\r\n    window.location.href = \"/admin\";\r\n  } catch (error) {\r\n    // Handle login error\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,MAAM,QAAQ,SAAS;AAC/C,OAAOC,KAAK,MAAM,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,YAAY,GAAIC,KAAK,KAAM;EACtCC,IAAI,EAAEL,aAAa;EACnBM,OAAO,EAAEF;AACX,CAAC,CAAC;AAEF,OAAO,MAAMG,MAAM,GAAGA,CAAA,MAAO;EAC3BF,IAAI,EAAEJ;AACR,CAAC,CAAC;AAEF,OAAO,MAAMO,KAAK,GAAIC,WAAW,IAAK,MAAOC,QAAQ,IAAK;EACxD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAC/B,iCAAiC,EACjCH,WACF,CAAC,CAAC,CAAC;IACH,MAAML,KAAK,GAAGO,QAAQ,CAACE,IAAI,CAACT,KAAK;IACjCU,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEX,KAAK,CAAC;IACpCM,QAAQ,CAACP,YAAY,CAACC,KAAK,CAAC,CAAC;IAC7BY,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACjC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd;EAAA;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}